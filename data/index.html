<html>

<head>
	<title>Emotiscope Setup</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<link rel="stylesheet" href="css/app.css">
	<script src="js/fetch_mac.js"></script>
</head>
<style>
	.hideonpc {
		display: none;
	}

	@media only screen and (min-width : 320px) and (max-width : 480px) {
		.hideonpc {
			display: inline;
		}
	}

	.hideonphone {
		display: none;
	}

	@media only screen and (min-width : 480px) {
		.hideonphone {
			display: inline;
		}
	}

	.slider_canvas {

		touch-action: none;
		/* Prevents default touch behavior, like scrolling */

		/* Each canvas takes up one third of the screen width */


		border: 2px solid var(--accent);
		height: calc(100% - 35px);
		display: block;
		margin-left: 5px;
		margin-right: 5px;
		margin-top: 10px;
		border-radius: 10px;
		width: 90%;
	}
</style>

<body>
	<div id="app_container">
		<div id="header">
			<span onclick="show_page('page_menu');" class="buzz">
				<img id="left_header_item" src="svg/menu.svg" class="header_icon tint_accent" />
			</span>

			<span id="header_logo">
				LED CONTROLLER
			</span>

			<span onclick="show_page('page_info');" class="buzz">
				<img src="svg/info.svg" class="footer_icon tint_accent" />
			</span>
		</div>

		<!-- TODO: Add device preview/nickname section to app UI -->
		<div id="device_preview">

			<!-- <div class="lds-ellipsis">
				<div></div>
				<div></div>
				<div></div>
				<div></div>

			</div> -->
		</div>

		<div id="gallery_right_edge_fade"></div>

		<div id="gallery_left_edge_fade"></div>

		<div id="setting_gallery">
			<span class="hideonpc" id="setting_container">

			</span>
			<span class="hideonphone" id="setting_container2">

				<center>You need touse this site on mobile phone to actvate touch tracks</center>
				<!-- <span id="app_container2">

					<span class="slider">
						<div class="slider_label buzz " onclick="show_setting_information('brightness');">BRIGHTNESS
						</div><canvas id="slider_canvas_red" class="slider_track slider_canvas" id="brightness">
						</canvas>
					</span>
					<span class="slider">
						<div class="slider_label buzz " onclick="show_setting_information('brightness');">BRIGHTNESS
						</div><canvas id="slider_canvas_green" class="slider_canvas"></canvas>
					</span>
					<span class="slider">
						<div class="slider_label buzz " onclick="show_setting_information('brightness');">BRIGHTNESS
						</div><canvas id="slider_canvas_blue" class="slider_canvas"></canvas>
					</span>
				</span> -->
				<!--<span class="toggle"><div class="toggle_label" onclick="show_setting_information('mirror_mode');">MIRROR MODE</div><div class="toggle_track" id="mirror_mode" style="background-image: linear-gradient(to top, var(--secondary) 0%, var(--secondary) 100%, transparent 0%, transparent 100%);"></div></span>-->
				<!--
				<span class="slider"><span class="slider_track" id="brightness"></span></span>
				<span class="slider"><span class="slider_track" id="hue"></span></span>
				 <span class="slider"><span class="slider_track" id="speed"></span></span> -->
				<!-- <span class="slider"><canvas id="slider_canvas_blue" class="slider_canvas"></canvas></span> -->

			</span>
		</div>

		<!--<div id="mode_bin"></div>-->

		<div id="footer">
			<span onclick="show_page('page_calibration');" class="buzz">
				<img id="right_header_item" src="svg/microphone.svg" class="header_icon tint_accent" />
			</span>

			<span onclick="show_page('page_modes');" style="margin-bottom: 30px;">
				<span id="current_mode" class="buzz">LOADING</span>
			</span>

			<span onclick="toggle_fullscreen();" class="" id="fullscreen_button">
				<img src="svg/expand.svg" class="footer_icon tint_accent" />
			</span>
		</div>

		<div id="page_wifi_config">
			<div class="page_title">WIFI SETTINGS</div>
			<div class="page_paragraph">
				<input type="text" id="ssid" class="text_input" placeholder="Name"></input><br>
				<input type="password" id="pass" class="text_input" placeholder="Password"></input><br>
				<button onclick="update_wifi_credentials();" class="buzz">CONNECT</button>
			</div>
			<div id="mac_address" onload="get_mac_address();">
				LOADING...
			</div>
		</div>

		<script>
			function update_wifi_credentials() {
				let ssid = document.getElementById("ssid").value;
				let pass = document.getElementById("pass").value;

				// URL encode the ssid and pass
				ssid = encodeURIComponent(ssid);
				pass = encodeURIComponent(pass);

				let wifi_endpoint = "/save-wifi?ssid=" + ssid + "&pass=" + pass;
				fetch(wifi_endpoint);

				window.location.href = "https://app.emotiscope.rocks/";
			}
		</script>
</body>

</html>